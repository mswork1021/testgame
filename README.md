# Tap Quest - タップクエスト

モンスターをタップで倒して冒険を進める、スマホ最適化された放置系クリッカーRPGです。

**現在のバージョン: v2.30**

**プレイURL:** https://mswork1021.github.io/testgame/

## 🎮 ゲーム機能

### コアシステム
- **タップ攻撃**: 画面をタップしてモンスターにダメージを与える
- **ステージ進行**: 10体倒すと次のステージへ
- **ボス戦**: 10ステージごとにボス出現（30秒の制限時間付き）
- **SVGモンスター**: 各モンスターはSVGで描画されたオリジナルデザイン

### ヒーロー＆仲間
- **ヒーロー強化**: ゴールドでタップダメージを強化
- **仲間システム**: 自動でダメージを与える仲間を雇用（DPS）

### 装備システム
- **武器**: タップダメージ増加
- **防具**: ボス戦時間延長
- **アクセサリー**: ゴールド獲得、クリティカル率など
- **レアリティ**: コモン〜レジェンダリーの5段階

### アクティブスキル
- パワータップ、ゴールドラッシュ、クリティカルウェーブなど
- クールダウン付きの必殺技
- ステージ進行でアンロック

### スキルツリー（パッシブスキル）
- **攻撃系**: タップダメージ強化、クリティカル率/ダメージ強化
- **防御系**: ボス戦時間延長、DPS強化
- **財宝系**: ゴールド獲得増加、ドロップ率強化
- **スキルポイント(SP)**: 転生時に獲得（ステージ100ごとに+1SP）

### 図鑑システム
- **モンスター図鑑**: 発見したモンスター・ボスを記録
- **装備図鑑**: 取得した装備を記録

### 実績システム
- タップ回数、討伐数、ステージ到達などの実績
- 達成でジェム報酬を獲得

### 転生システム
- ステージ100以上で転生可能
- **ソウル**: アーティファクト購入に使用
- **スキルポイント**: スキルツリー強化に使用
- アーティファクトは永続的なボーナスを提供

### 宝箱＆ラッキータイム (v2.30)
- **宝箱システム**: ステージ進行中にランダムで宝箱が出現
- **宝箱報酬**: ゴールド、ジェム、ソウル、レア装備、スキルリセットなど
- **ラッキータイム**: 宝箱から出現、30秒間ゴールド2倍＆ドロップ率2倍
- **専用エフェクト**: 宝箱オープン、ラッキータイム発動時の演出

### サウンド機能 (v2.28)
- **効果音(SE)**: タップ、クリティカル、撃破、ボス撃破、ドロップ、スキル発動、宝箱など
- **BGM**: 通常フィールド（Aマイナー）＆ボス戦（Eマイナー、140 BPM）
- **音量設定**: マスター、BGM、SE個別に調整可能
- **ミュート機能**: ワンタップで消音

### ビジュアルエフェクト (v2.29)
- **クリティカルフラッシュ**: クリティカルヒット時の金色エフェクト
- **ボス警告**: ボス出現時のWARNING表示
- **ボス撃破**: VICTORY表示＆爆発エフェクト
- **レジェンダリー**: レジェンダリードロップ時の特別エフェクト

### その他
- オフライン報酬
- デイリーボーナス（7日間ログインボーナス）
- 自動セーブ（30秒ごと）
- PWA対応（ホーム画面追加可能）
- Service Worker によるキャッシュ管理

## 📁 ファイル構成

```
/
├── index.html      # メインHTML
├── manifest.json   # PWA設定
├── sw.js           # Service Worker
├── css/
│   └── style.css   # スタイル（2700行以上）
├── js/
│   ├── data.js     # ゲームデータ定義
│   ├── sound.js    # サウンドマネージャー (v2.28)
│   ├── game.js     # ゲームロジック（1200行以上）
│   ├── ui.js       # UI管理（1800行以上）
│   ├── save.js     # セーブ/ロード
│   └── main.js     # エントリーポイント
└── assets/         # アイコン画像
```

## 🛠️ 変更履歴

- **v2.30**: 宝箱システム＆ラッキータイム追加
- **v2.29**: ビジュアルエフェクト強化（ボス警告、撃破、レジェンダリーエフェクト）
- **v2.28**: BGM・SE機能追加、サウンド設定UI
- **v2.27**: スキルツリー表示修正（overflow削除）
- **v2.26**: ワールドマップ関連コード完全削除、初期化エラー修正
- **v2.25**: エラーハンドリング強化、nullチェック追加
- **v2.24**: Service Worker追加、キャッシュクリア機能強化
- **v2.23**: 古いセーブデータとの互換性修正、スキルツリーUI改善
- **v2.22**: ワールドマップ削除、スキルツリー表示修正
- **v2.21**: スキルツリー、図鑑、実績システムを追加

## 🛠️ デバッグコマンド

ブラウザのコンソールで使用できます：

```javascript
TapQuest.debug.addGold(10000)      // ゴールド追加
TapQuest.debug.addSouls(100)       // ソウル追加
TapQuest.debug.addGems(10)         // ジェム追加
TapQuest.debug.setStage(100)       // ステージ設定
TapQuest.debug.dropEquipment()     // レジェンダリー装備ドロップ
TapQuest.debug.resetSave()         // セーブデータ削除
```

## 📱 対応環境

- iOS Safari
- Android Chrome
- デスクトップブラウザ

## ライセンス

MIT License
